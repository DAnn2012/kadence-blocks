/**
 * Frontend only CSS.
 */

@import "../../assets/css/variables.scss";

@mixin header-transparent-styles {
	position: relative;

	& > div {
		background-color: transparent;
		position: absolute;
		left: 0px;
		right: 0px;
		z-index: 100;
	}
}

@mixin header-sticky-styles {
	//the sticky header body starts as a 0 height placeholder
	//javascript sets the height to match thte absolutly positioned inner header later
	position: relative;
	z-index: 1;

	& > div {
		left: 0;
		right: 0;
		z-index: 100;

		//transition: top ease-in-out 0.05s;
	}
}

.wp-block-kadence-header {
	margin: 0;

	//In the editor we just look for these classes as they will come and go as the preview device changes.
	//In the frontend, they will all be present, so must each be wrapped in a media query
	//Desktop transparent styles
	&.header-desktop-style-transparent,
	&.header-desktop-style-sticky-transparent {
		@media (min-width: $laptop-plus-query) {
			@include header-transparent-styles();
		}
	}
	//Tablet transparent styles
	&.header-tablet-style-transparent,
	&.header-tablet-style-sticky-transparent {
		@media (min-width: $before-tablet-plus-query) and (max-width: $tablet-minus-query) {
			@include header-transparent-styles();
		}
	}
	//Mobile transparent styles
	&.header-mobile-style-transparent,
	&.header-mobile-style-sticky-transparent {
		@media (max-width: $phone-minus-query) {
			@include header-transparent-styles();
		}
	}

	&.header-desktop-style-sticky,
	&.header-desktop-style-sticky-transparent {
		@media (min-width: $laptop-plus-query) {
			@include header-sticky-styles();
		}
	}
	//Tablet sticky styles
	&.header-tablet-style-sticky,
	&.header-tablet-style-sticky-transparent {
		@media (min-width: $before-tablet-plus-query) and (max-width: $tablet-minus-query) {
			@include header-sticky-styles();
		}
	}
	//Mobile sticky styles
	&.header-mobile-style-sticky,
	&.header-mobile-style-sticky-transparent {
		@media (max-width: $phone-minus-query) {
			@include header-sticky-styles();
		}
	}

	.wp-block-kadence-image:not(:last-child) {
		margin-bottom: 0;
	}
}

.wp-block-kadence-header-row {
	display: grid !important;
	grid-template-columns: 1fr auto 1fr;
}
.wp-block-kadence-header-column-center {
	display: flex !important;
	justify-content: center;
}

.wp-block-kadence-header-desktop {
	// Override a style we set elsewhere
	p {
		margin-bottom: unset;
	}

	.wp-block-kadence-header-section {
		display: flex !important;
		align-items: center;

		.wp-block-kadence-header-column {
			display: flex !important;
			align-items: center;
		}
	}

	.wp-block-kadence-header-column-center-left {
		flex-grow: 1;
		justify-content: flex-end !important;
	}

	.wp-block-kadence-header-column-center-right {
		flex-grow: 1;
		justify-content: flex-start !important;
	}
}
.wp-block-kadence-header-tablet {
	.wp-block-kadence-header-column-tablet-right {
		flex-grow: 1;
		justify-content: flex-end !important;
	}
}
